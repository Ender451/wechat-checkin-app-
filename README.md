# 打卡小程序

一个功能完整的微信小程序，用于记录和管理工作时间。

## 功能特性

- 🕐 **实时打卡**：支持上下班打卡，精确到秒
- 🔄 **多时段支持**：支持一天内多个工作时段（主时段+加班时段）
- ⏱️ **工作时长计算**：自动计算各时段工作时长和总时长
- 📊 **智能统计**：基于主工作时段的时间趋势分析，排除加班干扰
- 📝 **灵活编辑**：支持新增、编辑、删除时段记录
- 💾 **数据管理**：本地存储 + CSV导出导入功能
- 🎨 **美观界面**：现代化的UI设计和流畅的用户体验

## 项目结构

```
├── pages/                 # 页面目录
│   ├── index/            # 打卡页面
│   ├── records/          # 记录页面
│   ├── stats/            # 统计页面
│   └── edit/             # 编辑页面
├── components/           # 组件目录
│   └── navigation-bar/   # 导航栏组件
├── images/              # 图片资源
├── .cloudbase/          # 云开发相关
├── app.js               # 小程序入口文件
├── app.json             # 小程序配置文件
├── app.wxss             # 全局样式文件
├── project.config.json  # 项目配置文件
└── sitemap.json         # 站点地图配置
```

## 主要功能

### 打卡功能
- 上班打卡：记录开始工作时间
- 下班打卡：记录结束工作时间
- 支持重复更新下班打卡时间
- 实时显示当前工作时长
- 多时段管理：支持主时段和加班时段分别记录

### 记录管理
- 查看历史打卡记录，智能时段展示（3条及以下全部显示，4条及以上折叠显示）
- 灵活编辑：新增、修改、删除时段记录
- 历史记录优化：区分今日和历史记录的编辑逻辑
- 按月份筛选和最近30天快速查看
- 支持左右滑动删除操作

### 数据统计
- 工作时长统计分析（区分主时长和加班时长）
- 上下班时间趋势图：仅基于主工作时段，反映真实工作规律
- 按日、周、月统计，支持全时间范围查看
- 图表化数据展示，包括折线图和柱状图
- CSV数据导出导入：支持完整日期格式，便于数据迁移

### 数据导入导出
- **CSV导出**：包含完整年份信息（如：2024年12月9日）
- **CSV导入**：智能解析日期格式（支持带年份和不带年份）
- **数据合并**：导入时可智能合并，避免重复
- **格式兼容**：Excel、记事本等通用工具支持

## 技术栈

- **前端框架**：微信小程序原生开发
- **数据存储**：微信小程序本地存储 API + CSV格式持久化
- **UI组件**：自定义组件开发
- **图表库**：Canvas 绘图（支持折线图、柱状图）
- **数据处理**：多时段数据结构、智能日期解析、时间冲突检测

## 开发环境

- 微信开发者工具
- Node.js (可选，用于依赖管理)

## 使用说明

1. 使用微信开发者工具打开项目
2. 配置项目 AppID（可使用测试号）
3. 预览或编译运行
4. 在真机或模拟器中测试功能

## 更新日志

### v2.0.0 (2024-12-27)
- ✨ **多时段支持**：支持一天内多个工作时段（主时段+加班时段）
- 📊 **智能统计**：统计图表基于主工作时段计算，更准确反映工作规律
- 🎯 **时段展示优化**：3条及以下全部显示，4条及以上智能折叠
- ✏️ **编辑体验提升**：区分今日和历史记录，优化时段管理
- 💾 **数据导入导出**：完整的CSV格式支持，包含年份信息
- 🔄 **时间冲突检测**：实时检测时段重叠，避免数据错误
- 📱 **交互优化**：左滑删除、月份筛选、最近30天快速查看

### v1.0.0
- 基础打卡功能
- 工作时长实时计算
- 记录管理功能
- 数据统计分析

## 开发者

- 专注于提供便捷的时间管理工具
- 持续优化用户体验

## 许可证

本项目仅用于学习和交流使用。